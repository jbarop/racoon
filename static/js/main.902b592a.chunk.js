(this.webpackJsonpracoon=this.webpackJsonpracoon||[]).push([[0],{207:function(e,t,n){e.exports=n(334)},334:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(29),o=n.n(c),u=(n(212),n(68)),i=n(42),l=n(65),s=n(341),f=n(16),d="".concat("/racoon","/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"),m="".concat("/racoon","/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv");function p(e){var t=e.map((function(e){return function(e){var t=f.j("%m/%d/%Y");return{countryName:e["Country/Region"],records:Object.entries(e).map((function(e){return{date:t(e[0]),value:parseInt(e[1])}})).filter((function(e){return null!=e.date}))}}(e)})).reduce((function(e,t){return Object(l.a)({},e,Object(i.a)({},t.countryName,e[t.countryName]?e[t.countryName].map((function(e,n){return Object(l.a)({},e,{value:e.value+t.records[n].value})})):t.records))}),{});return Object.entries(t).forEach((function(e){return t[e[0]]=e[1].filter((function(e){return 0!==e.value}))})),t}function v(e){return e.map((function(t,n){return{date:e[n].date,value:0===n?e[n].value:e[n].value-e[n-1].value}}))}var h=function(){var e=Object(r.useState)(["Germany","Italy","US"]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(),h=Object(u.a)(o,2),b=h[0],y=h[1],_=Object(r.useRef)(null);return Object(r.useEffect)((function(){Promise.all([f.c(d),f.c(m)]).then((function(e){return e.map((function(e){return p(e)}))})).then((function(e){var t=Object(u.a)(e,2);return function(e,t){return Object.keys(e).map((function(n){return{countryName:n,confirmedTotalPerDay:e[n],confirmedPerDay:v(e[n]),deathsTotalPerDay:t[n],deathsPerDay:v(t[n])}}))}(t[0],t[1])})).then((function(e){return e.reduce((function(e,t){return Object(l.a)({},e,Object(i.a)({},t.countryName,t))}),{})})).then((function(e){return y(e)}))}),[]),Object(r.useEffect)((function(){if(_.current&&b){var e=f.e(n.map((function(e){return b[e].confirmedPerDay})).map((function(e){return f.e(e.map((function(e){return e.value})))}))),t=f.f(n.map((function(e){return b[e].confirmedPerDay})).map((function(e){return f.f(e.map((function(e){return e.date})))}))),r=f.e(n.map((function(e){return b[e].confirmedPerDay})).map((function(e){return f.e(e.map((function(e){return e.date})))}))),a=10,c=30,o=30,u=60,i=800-u-c,l=400-a-o;f.i(_.current).selectAll("*").remove();var s=f.i(_.current).append("svg").attr("width",i+u+c).attr("height",l+a+o).append("g").attr("transform","translate(".concat(u,", ").concat(a,")")),d=f.h().domain([t,r]).range([0,i]),m=f.g().domain([1,e]).range([l,0]),p=f.d().x((function(e){return d(e.date)})).y((function(e){return m(e.value)}));s.append("g").attr("transform","translate(0, ".concat(l,")")).call(f.a(d)),s.append("g").call(f.b(m)),n.forEach((function(e){s.append("path").datum(b[e].confirmedPerDay).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",p),s.append("path").datum(b[e].deathsPerDay).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",p).style("stroke-dasharray","3, 3")}))}}),[n,b,_]),b?a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"racoon - Corona Dashboard")),a.a.createElement("main",null,a.a.createElement(s.a,{placeholder:"Countries",clearable:!0,fluid:!0,multiple:!0,search:!0,selection:!0,options:Object.keys(b).map((function(e){return{key:e,text:e,value:e}})),value:n,onChange:function(e,t){return c(t.value)}}),a.a.createElement("div",{ref:_}))):a.a.createElement("span",null,"Loading")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.902b592a.chunk.js.map